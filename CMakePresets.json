{
    "version": 6,
    "configurePresets": [
        {
            "name": "OPynSim_Development",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/Development",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "CMAKE_PREFIX_PATH": "${sourceDir}/build/third_party/Development/install",

                "OPYN_VENV": "${sourceDir}/.venv",
                "OPYN_USE_STRICT_COMPILER_FLAGS": "ON",
                "OPYN_FORCE_ASSERTS_ENABLED": "ON",
                "OPYN_BUILD_OPYNSIM_DEBUGGER": "ON"
            }
        },
        {
            "name": "OPynSim_ErrorCheck",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/ErrorCheck",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "CMAKE_PREFIX_PATH": "${sourceDir}/build/third_party/ErrorCheck/install",
                "CMAKE_C_COMPILER": "clang",
                "CMAKE_CXX_COMPILER": "clang++",
                "CMAKE_C_FLAGS": "-fsanitize=undefined",
                "CMAKE_CXX_FLAGS": "-fsanitize=undefined",
                "CMAKE_EXE_LINKER_FLAGS": "-rdynamic -fsanitize=undefined",
                "CMAKE_SHARED_LINKER_FLAGS": "-rdynamic -fsanitize=undefined",
                "CMAKE_MODULE_LINKER_FLAGS": "-rdynamic -fsanitize=undefined",
                "CMAKE_CXX_CLANG_TIDY": "clang-tidy",

                "OPYN_VENV": "${sourceDir}/.venv",
                "OPYN_USE_STRICT_COMPILER_FLAGS": "ON",
                "OPYN_FORCE_ASSERTS_ENABLED": "ON",
                "OPYN_BUILD_OPYNSIM_DEBUGGER": "ON"
            }
        },
        {
            "name": "OPynSim_RelWithDebInfo",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/RelWithDebInfo",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "RelWithDebInfo",
                "CMAKE_PREFIX_PATH": "${sourceDir}/build/third_party/RelWithDebInfo/install",

                "OPYN_VENV": "${sourceDir}/.venv"
            }
        },
        {
            "name": "OPynSim_Release",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/Release",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "CMAKE_PREFIX_PATH": "${sourceDir}/build/third_party/Release/install",

                "OPYN_VENV": "${sourceDir}/.venv"
            }
        },
        {
            "name": "OPynSim_Release-MacOS-amd64",
            "inherits": "OPynSim_Release",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_OSX_ARCHITECTURES": "amd64",
                "CMAKE_OSX_DEPLOYMENT_TARGET": "14.5",
                "CMAKE_OSX_SYSROOT": "/Library/Developer/CommandLineTools/SDKs/MacOSX14.5.sdk/"
            }
        },
        {
            "name": "OPynSim_Release-MacOS-arm64",
            "inherits": "OPynSim_Release",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_OSX_ARCHITECTURES": "arm64",
                "CMAKE_OSX_DEPLOYMENT_TARGET": "14.5",
                "CMAKE_OSX_SYSROOT": "/Library/Developer/CommandLineTools/SDKs/MacOSX14.5.sdk/"
            }
        }
    ],
    "buildPresets": [
        { "name": "OPynSim_Development",         "configurePreset": "OPynSim_Development" },
        { "name": "OPynSim_ErrorCheck",          "configurePreset": "OPynSim_ErrorCheck" },
        { "name": "OPynSim_RelWithDebInfo",      "configurePreset": "OPynSim_RelWithDebInfo" },
        { "name": "OPynSim_Release",             "configurePreset": "OPynSim_Release" },
        { "name": "OPynSim_Release-MacOS-amd64", "configurePreset": "OPynSim_Release-MacOS-amd64" },
        { "name": "OPynSim_Release-MacOS-arm64", "configurePreset": "OPynSim_Release-MacOS-arm64" }
    ],
    "testPresets": [
        {
            "name": "OPynSim_Development",
            "configurePreset": "OPynSim_Development",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        },
        {
            "name": "OPynSim_ErrorCheck",
            "configurePreset": "OPynSim_ErrorCheck",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        },
        {
            "name": "OPynSim_RelWithDebInfo",
            "configurePreset": "OPynSim_RelWithDebInfo",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        },
        {
            "name": "OPynSim_Release",
            "configurePreset": "OPynSim_Release",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        },
        {
            "name": "OPynSim_Release-MacOS-amd64",
            "configurePreset": "OPynSim_Release-MacOS-amd64",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        },
        {
            "name": "OPynSim_Release-MacOS-arm64",
            "configurePreset": "OPynSim_Release-MacOS-arm64",
            "output": {"outputOnFailure": true},
            "execution": {"noTestsAction": "error"}
        }
    ],
    "packagePresets": [
        {
            "name": "OPynSim_Release",
            "configurePreset": "OPynSim_Release"
        },
        {
            "name": "OPynSim_Release-MacOS-amd64",
            "configurePreset": "OPynSim_Release-MacOS-amd64"
        },
        {
            "name": "OPynSim_Release-MacOS-arm64",
            "configurePreset": "OPynSim_Release-MacOS-arm64"
        }
    ],
    "workflowPresets": [
        {
            "name": "OPynSim_Development",
            "steps": [
                { "type": "configure", "name": "OPynSim_Development" },
                { "type": "build", "name": "OPynSim_Development" },
                { "type": "test", "name": "OPynSim_Development" }
            ]
        },
        {
            "name": "OPynSim_ErrorCheck",
            "steps": [
                { "type": "configure", "name": "OPynSim_ErrorCheck" },
                { "type": "build", "name": "OPynSim_ErrorCheck" },
                { "type": "test", "name": "OPynSim_ErrorCheck" }
            ]
        },
        {
            "name": "OPynSim_RelWithDebInfo",
            "steps": [
                { "type": "configure", "name": "OPynSim_RelWithDebInfo" },
                { "type": "build", "name": "OPynSim_RelWithDebInfo" },
                { "type": "test", "name": "OPynSim_RelWithDebInfo" }
            ]
        },
        {
            "name": "OPynSim_Release",
            "steps": [
                { "type": "configure", "name": "OPynSim_Release" },
                { "type": "build", "name": "OPynSim_Release" },
                { "type": "test", "name": "OPynSim_Release" },
                { "type": "package", "name": "OPynSim_Release" }
            ]
        },
        {
            "name": "OPynSim_Release-MacOS-amd64",
            "steps": [
                { "type": "configure", "name": "OPynSim_Release-MacOS-amd64" },
                { "type": "build", "name": "OPynSim_Release-MacOS-amd64" },
                { "type": "test", "name": "OPynSim_Release-MacOS-amd64" },
                { "type": "package", "name": "OPynSim_Release-MacOS-amd64" }
            ]
        },
        {
            "name": "OPynSim_Release-MacOS-arm64",
            "steps": [
                { "type": "configure", "name": "OPynSim_Release-MacOS-arm64" },
                { "type": "build", "name": "OPynSim_Release-MacOS-arm64" },
                { "type": "test", "name": "OPynSim_Release-MacOS-arm64" },
                { "type": "package", "name": "OPynSim_Release-MacOS-arm64" }
            ]
        }
    ]
}
